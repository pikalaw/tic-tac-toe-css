$golden-ratio: 1 / 1.618;

html {
  height: 100%;
}

body {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.board {
  width: $golden-ratio * 100 * 1vmin;
  height: $golden-ratio * 100 * 1vmin;
  display: grid;
  grid: repeat(3, 1fr) / repeat(3, 1fr);
  place-items: stretch;
}

.line {
  &.horizontal {
    border-bottom: 2px solid black;
    &.id-1 {
      grid-area: 1 / 1 / 2 / 4;
    }
    &.id-2 {
      grid-area: 2 / 1 / 3 / 4;
    }
  }
  &.vertical {
    border-right: 2px solid black;
    &.id-1 {
      grid-area: 1 / 1 / 4 / 2;
    }
    &.id-2 {
      grid-area: 1 / 2 / 4 / 3;
    }
  }
}

.click {
  opacity: 0;
}

.show {
  display: none;
  position: relative;
  z-index: 1;

  &:after {
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    font-size: $golden-ratio * 30 * 1vmin;
    text-align: center;
  }
}

@mixin plays($player) {
      display: block;
      &:after {
        display: block;
        content: $player;
      }
}

@for $i from 1 through 3 {
  @for $j from 1 through 3 {
    .click.id-#{$i}#{$j}, .show.id-#{$i}#{$j} {
      grid-area: #{$i} / #{$j} / #{$i + 1} / #{$j + 1};
      position: relative;
    }

    .click.id-#{$i}#{$j}:checked ~ .show.id-#{$i}#{$j} {
      @include plays('X');
    }
  }
}

// First move.
.click.id-11:checked + .click.id-12:not(:checked) ~ .show.id-22 {
  @include plays('O');
}
